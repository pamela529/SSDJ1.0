<!--index.wxml-->
<scroll-view class="scrollarea" scroll-y type="list">
  <!-- æ‰‹æœºå¤–æ¡† -->
  <view class="phone-frame">
    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <view class="status-bar">
      <text class="time">{{currentTime}}</text>
      <view class="signal-icons">
        <text class="signal-icon">ğŸ“¶</text>
        <text class="wifi-icon">ğŸ“¡</text>
        <text class="battery-icon">ğŸ”‹</text>
      </view>
    </view>

    <!-- é¦–é¡µå†…å®¹åŒº -->
    <view class="container" wx:if="{{!isDetailShow}}">
      <view class="header">
        <view class="user-info">
          <image class="avatar" src="{{userInfo.avatarUrl || '/assets/default-avatar.png'}}"></image>
          <text class="username">ä»Šæ—¥æ¨è</text>
          <text class="location">åŒ—äº¬ {{weatherTemp}}</text>
        </view>
        <view class="tabs">
          <text class="tab active">æœ¬äºº</text>
          <text class="tab">å®¶åº­</text>
          <text class="tab">å•å“</text>
        </view>
      </view>

      <view class="category-selector">
        <view class="category-item active">é€‚å‹¤</view>
        <view class="category-item">å•†åŠ¡</view>
        <view class="category-item">ä¼‘é—²</view>
        <view class="category-item">èšä¼š</view>
      </view>

      <!-- äºŒå¥¢åŒ…æ¨è -->
      <view class="luxury-item-card" bindtap="showDetail">
        <image class="item-img" src="https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=800&h=800&fit=crop" mode="aspectFill"></image>
        <view class="item-info">
          <view class="item-title">LVæ— å¿§äºŒå¥¢åŒ…</view>
          <view class="item-row">
            <text class="item-label">ä»·æ ¼:</text>
            <text class="item-value">Â¥0</text>
          </view>
          <view class="item-row">
            <text class="item-label">å“ç‰Œ:</text>
            <text class="item-value">Louis Vuitton</text>
          </view>
          <view class="view-details-btn" catchtap="showDetail" data-type="detail" data-from="button">æŸ¥çœ‹è¯¦æƒ…</view>
          <text class="item-description">äºŒæ‰‹å¥¢ä¾ˆå“LVåŒ…ï¼Œé›¶å…ƒå…è´¹é¢†å–ï¼Œå“è´¨ä¿è¯æ— å¿§ä½¿ç”¨ï¼Œé™æ—¶æ¨å¹¿æ´»åŠ¨</text>
        </view>
      </view>
    </view>

    <!-- è¯¦æƒ…é¡µå†…å®¹åŒº -->
    <view class="detail-container" wx:if="{{isDetailShow}}">
      <!-- å•†å“è¯¦æƒ…é¡µå¤´éƒ¨ -->
      <view class="detail-header">
        <view class="back-btn" bindtap="hideDetail">
          <text>â†</text>
        </view>
        <view class="header-tabs">
          <view class="tab {{activeTab === 'product' ? 'active' : ''}}" bindtap="switchTab" data-tab="product">å•†å“</view>
          <view class="tab {{activeTab === 'detail' ? 'active' : ''}}" bindtap="switchTab" data-tab="detail">è¯¦æƒ…</view>
          <view class="tab {{activeTab === 'recommend' ? 'active' : ''}}" bindtap="switchTab" data-tab="recommend">æ¨è</view>
          <view class="tab-placeholder"></view>
        </view>
      </view>

      <!-- å•†å“ä¸»ä½“å†…å®¹ -->
      <scroll-view scroll-y="true" class="product-scroll">
        <!-- å•†å“å›¾ç‰‡ -->
        <view class="product-image-container">
          <image class="product-image" src="{{productData.imageUrl}}" mode="aspectFill"></image>
          <view class="product-condition">{{productData.condition}}</view>
        </view>

        <!-- å•†å“åŸºæœ¬ä¿¡æ¯ -->
        <view class="product-info-detail">
          <view class="product-price">
            <text class="price">Â¥{{productData.price}}</text>
            <text class="discount">{{productData.discount}}</text>
          </view>
          <view class="payment-info">
            <text>åˆ†æœŸè´­ æ¯æœˆä½è‡³{{productData.monthlyPayment}}å…ƒ ></text>
          </view>
          <view class="product-title-detail">
            <text class="brand-detail">{{productData.brand}}</text>
            <text class="name-detail">{{productData.name}}</text>
          </view>
        </view>

        <!-- å•†å“æœåŠ¡ä¿¡æ¯ -->
        <view class="service-info">
          <view class="service-item">
            <icon class="icon" type="success" size="14" color="#6c3cff"></icon>
            <text>{{productData.service}}</text>
          </view>
          <view class="service-item">
            <icon class="icon" type="success" size="14" color="#6c3cff"></icon>
            <text>{{productData.guarantee}}</text>
          </view>
        </view>

        <!-- å•†å“è¯¦ç»†æè¿° -->
        <view class="product-description-detail">
          <view class="section-title">å•†å“æè¿°</view>
          <view class="description-content">
            <text>{{productData.description}}</text>
          </view>
          <view class="specifications">
            <view class="spec-item">
              <text class="spec-label">å°ºå¯¸ï¼š</text>
              <text class="spec-value">{{productData.size}}</text>
            </view>
            <view class="spec-item">
              <text class="spec-label">é…ä»¶ï¼š</text>
              <text class="spec-value">{{productData.accessories}}</text>
            </view>
          </view>
        </view>
      </scroll-view>

      <!-- åº•éƒ¨è´­ä¹°æ  -->
      <view class="purchase-bar">
        <view class="action-buttons">
          <view class="action-btn">
            <text class="icon">ğŸ </text>
            <text class="label">é¦–é¡µ</text>
          </view>
          <view class="action-btn">
            <text class="icon">â¤ï¸</text>
            <text class="label">æ”¶è—</text>
          </view>
          <view class="action-btn">
            <text class="icon">ğŸ’¬</text>
            <text class="label">å®¢æœ</text>
          </view>
        </view>
        <view class="purchase-buttons">
          <button class="free-btn" bindtap="getFreeBag">å…è´¹æ— å¿§åŒ…</button>
          <button class="buy-btn" bindtap="buyNow">ç«‹å³è´­ä¹°</button>
        </view>
      </view>
    </view>
    
    <!-- åº•éƒ¨å¯¼èˆªæ æŒ‡ç¤ºå™¨ -->
    <view class="iphone-home-indicator"></view>
  </view>
</scroll-view>
